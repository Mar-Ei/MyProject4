"use strict";(self.webpackChunkcdcreimagine=self.webpackChunkcdcreimagine||[]).push([["ancillary"],{9035:(g,o,n)=>{n.d(o,{U:()=>m,e:()=>u});var l=n(188);const u=async c=>{let r=null,e=null;return l.U.isPromise(c)&&(e=await c,e&&await e.isAuthenticated()&&(r=e.client)),{authClient:r,manager:e}},m=async(c,r)=>{const{authClient:e,manager:t}=await u(c);return{userInfo:await r(e),manager:t}}},2550:(g,o,n)=>{n.d(o,{a:()=>u,c:()=>m});var l=n(9035);const u=async()=>{try{return await Promise.all([n.e("ancillary/sso/manager").then(n.bind(n,7414)),n.e("ancillary/user-info/user-info").then(n.bind(n,4390))])}catch(c){throw console.error("Failed to import module dependencies."),c}},m=async()=>{const[{oktaManager:c},{userInfo:r}]=await u();return await(0,l.U)(c,r)}},4069:(g,o,n)=>{n.r(o),n.d(o,{sso:()=>l,userInfoDispatcher:()=>u});const l=(()=>{let e=!1;const t={get:()=>t.self,set:i=>{t.self=i},self:null},a=[],y=Date.now(),f=(i,w)=>{t.get()?i(!0):Date.now()-y>=3e3?(t.set(!1),i(!0)):setTimeout(f.bind(void 0,i,w),30)},s=new Promise(f),d=async i=>{typeof i=="function"&&(t.get()&&await t.get().isAuthenticated()?i():a.push(i))},h=async()=>{await s;const i=t.get();return i&&await i.isAuthenticated()};return{addSSOListener:d,checkAuth:h,hasAuthHeader:async()=>await h()?`Bearer ${t.get().client.getAccessToken()}`:!1,init:i=>{t.set(i),a.forEach(w=>w()),a.splice(0,a.length)},isAuthenticated:()=>(t.get()&&t.get().isAuthenticated().then(i=>{e=i}),e)}})(),u=(()=>{const e=[],t={get:()=>t.self,set:s=>t.self=s,self:null},a=s=>{s.serviceNames=s.listOfDataFields;const d=s.listOfDataFields instanceof Array&&s.listOfDataFields.includes("contactInfo");d&&s.serviceNames.push("cinf"),t.get()!=null?t.get().getProfile(s).then(h=>{typeof s.callback=="function"&&(d&&(h.contactInfo=h.cinf),s.callback(h))}):e.push(s)};return{clearCache:()=>t.get().clearCache,getUserProfile:a,init:s=>{t.set(s),t.get()!=null&&(e.forEach(d=>{a(d)}),e.splice(0,e.length))},request:a}})();var m=n(9035);const c=async(e,t,a,y)=>{const{userInfo:f,manager:s}=await(0,m.U)(e,t);return a.init(s),y.init(f),{userInfo:f,manager:s}};var r=n(2550);(async()=>{const[{oktaManager:e},{userInfo:t}]=await(0,r.a)();c(e,t,l,u)})()}},g=>{var o=l=>g(g.s=l),n=o(4069);(window.cdcreimagine=window.cdcreimagine||{}).ancillary=n}]);
